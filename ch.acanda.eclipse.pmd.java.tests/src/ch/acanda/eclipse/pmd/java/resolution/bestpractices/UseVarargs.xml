<?xml version="1.0" encoding="UTF-8"?>
<tests>
    <pmdReferenceId>category/java/bestpractices.xml/UseVarargs</pmdReferenceId>
    <language>java 1.7</language>

    <test name="UseVarargs">
        <setup>
            <source>
class UseVarargs {
   public void foo(String s, <marker>Object[] args</marker>) {
   }
}
            </source>
        </setup>
        <expected>
            <source>
class UseVarargs {
   public void foo(String s, Object... args) {
   }
}
            </source>
            <image>QUICKFIX_CHANGE</image>
            <label>Replace with varargs</label>
            <description>Replaces &lt;b>Object[] args&lt;/b> with &lt;b>Object... args&lt;/b>.</description>
        </expected>
    </test>

    <test name="UseVarargsWithArrayOfArrays">
        <setup>
            <source>
class UseVarargs {
   public void foo(String s, <marker>Object[][] args</marker>) {
   }
}
            </source>
        </setup>
        <expected>
            <source>
class UseVarargs {
   public void foo(String s, Object[]... args) {
   }
}
            </source>
            <image>QUICKFIX_CHANGE</image>
            <label>Replace with varargs</label>
            <description>Replaces &lt;b>Object[][] args&lt;/b> with &lt;b>Object[]... args&lt;/b>.</description>
        </expected>
    </test>

    <test name="UseVarargsWithGenericsAndWhitespace">
        <setup>
            <source>
class UseVarargs {
   public void foo(<marker>List &lt; Long [ ] > [ ] args</marker>) {
   }
}
            </source>
        </setup>
        <expected>
            <source>
class UseVarargs {
   public void foo(List &lt; Long [ ] >... args) {
   }
}
            </source>
            <image>QUICKFIX_CHANGE</image>
            <label>Replace with varargs</label>
            <description>Replaces &lt;b>List&lt;Long[]>[] args&lt;/b> with &lt;b>List&lt;Long[]>... args&lt;/b>.</description>
        </expected>
    </test>

</tests>
